/*! For license information please see 418.min.js.LICENSE.txt */
"use strict";(self.webpackChunkdivi_custom_modules=self.webpackChunkdivi_custom_modules||[]).push([[418],{20:function(t,e,n){var r=n(594),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(t,e,n){var r,a={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(u=e.ref),e)i.call(e,r)&&!c.hasOwnProperty(r)&&(a[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===a[r]&&(a[r]=e[r]);return{$$typeof:o,type:t,key:l,ref:u,props:a,_owner:s.current}}e.Fragment=a,e.jsx=l,e.jsxs=l},418:function(t,e,n){n.r(e);var r=n(594),o=n(848);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var i=r&&r.prototype instanceof l?r:l,u=Object.create(i.prototype);return s(u,"_invoke",function(n,r,o){var a,i,s,l=0,u=o||[],d=!1,m={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return a=e,i=0,s=t,m.n=n,c}};function p(n,r){for(i=n,s=r,e=0;!d&&l&&!o&&e<u.length;e++){var o,a=u[e],p=m.p,f=a[2];n>3?(o=f===r)&&(s=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=p&&((o=n<2&&p<a[1])?(i=0,m.v=r,m.n=a[1]):p<f&&(o=n<3||a[0]>r||r>f)&&(a[4]=n,a[5]=r,m.n=f,i=0))}if(o||n>1)return c;throw d=!0,r}return function(o,u,f){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,f),i=u,s=f;(e=i<2?t:s)||!d;){a||(i?i<3?(i>1&&(m.n=-1),p(i,s)):m.n=s:m.v=s);try{if(l=2,a){if(i||(o="next"),e=a[o]){if(!(e=e.call(a,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((e=(d=m.n<0)?s:n.call(r,m))!==c)break}catch(e){a=t,i=1,s=e}finally{l=1}}return{value:e,done:d}}}(n,o,a),!0),u}var c={};function l(){}function u(){}function d(){}e=Object.getPrototypeOf;var m=[][r]?e(e([][r]())):(s(e={},r,function(){return this}),e),p=d.prototype=l.prototype=Object.create(m);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,o,"GeneratorFunction")),t.prototype=Object.create(p),t}return u.prototype=d,s(p,"constructor",d),s(d,"constructor",u),u.displayName="GeneratorFunction",s(d,o,"GeneratorFunction"),s(p),s(p,o,"Generator"),s(p,r,function(){return this}),s(p,"toString",function(){return"[object Generator]"}),(i=function(){return{w:a,m:f}})()}function s(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}s=function(t,e,n,r){function a(e,n){s(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(a("next",0),a("throw",1),a("return",2))},s(t,e,n,r)}function c(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){c(a,r,o,i,s,"next",t)}function s(t){c(a,r,o,i,s,"throw",t)}i(void 0)})}}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach(function(e){y(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function m(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w(r.key),r)}}function h(t,e,n){return e=b(e),function(t,e){if(e&&("object"==a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,v()?Reflect.construct(e,n||[],b(t).constructor):e.apply(t,n))}function v(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(v=function(){return!!t})()}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}function y(t,e,n){return(e=w(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}var j=function(t){function e(t){var n,r,a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),y(r=h(this,e,[t]),"startTimer",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r.state.timerRunning||(r.setState({timerRunning:!0,currentTimerRow:t,timerSeconds:0}),r.timerInterval=setInterval(function(){r.setState(function(t){return{timerSeconds:t.timerSeconds+1}})},1e3),r.state.config.timerSound&&r.playTimerSound("start"))}),y(r,"stopTimer",function(){if(r.state.timerRunning){clearInterval(r.timerInterval);var t=r.formatTimeToDecimal(r.state.timerSeconds);null!==r.state.currentTimerRow&&r.updateRowField(r.state.currentTimerRow,"hours",t.toString()),r.setState({timerRunning:!1,currentTimerRow:null,timerSeconds:0}),r.state.config.timerSound&&r.playTimerSound("stop")}}),y(r,"resetTimer",function(){r.timerInterval&&clearInterval(r.timerInterval),r.setState({timerRunning:!1,currentTimerRow:null,timerSeconds:0})}),y(r,"playTimerSound",function(t){if("undefined"!=typeof AudioContext||"undefined"!=typeof webkitAudioContext){var e=new(AudioContext||webkitAudioContext),n=e.createOscillator(),r=e.createGain();n.connect(r),r.connect(e.destination),n.frequency.value="start"===t?800:400,n.type="sine",r.gain.setValueAtTime(0,e.currentTime),r.gain.linearRampToValueAtTime(.2,e.currentTime+.01),r.gain.exponentialRampToValueAtTime(.01,e.currentTime+.2),n.start(e.currentTime),n.stop(e.currentTime+.2)}}),y(r,"addRow",function(){if(!(r.state.rows.length>=r.state.config.maxRows)){var t={id:"temp_"+Date.now(),date:(new Date).toISOString().split("T")[0],project:r.state.config.defaultProject,tasks:"",notes:"",hours:"",rate:"15.00",amount:"0.00",modified:!0};r.setState(function(e){return{rows:[].concat(m(e.rows),[t])}},function(){r.calculateTotals(),r.state.config.timerAutoStart&&r.state.config.showTimer&&r.startTimer(r.state.rows.length-1)})}}),y(r,"deleteRow",function(t){r.state.currentTimerRow===t&&r.stopTimer(),r.setState(function(e){return{rows:e.rows.filter(function(e,n){return n!==t}),currentTimerRow:e.currentTimerRow===t?null:e.currentTimerRow>t?e.currentTimerRow-1:e.currentTimerRow}},r.calculateTotals)}),y(r,"clearAllRows",function(){r.resetTimer(),r.setState({rows:[]},function(){r.calculateTotals(),r.addRow()})}),y(r,"updateRowField",function(t,e,n){r.setState(function(o){var a=m(o.rows);if(a[t]=d(d({},a[t]),{},y(y({},e,n),"modified",!0)),"hours"===e){var i=(15*(parseFloat(a[t].hours)||0)).toFixed(r.state.config.decimalPlaces);a[t].amount=i,a[t].rate="15.00"}return{rows:a}},function(){r.calculateTotals(),r.debouncedSave(t)})}),y(r,"debouncedSave",(a={},function(t){clearTimeout(a[t]),a[t]=setTimeout(function(){var e=r.state.rows[t];e&&e.modified&&r.saveTimesheetEntry(e,t)},2e3)})),y(r,"calculateTotals",function(){var t=r.state.rows.reduce(function(t,e){var n=parseFloat(e.hours)||0,r=parseFloat(e.amount)||0;return{hours:t.hours+n,amount:t.amount+r}},{hours:0,amount:0});r.setState({totalHours:t.hours,totalAmount:t.amount})}),y(r,"formatTimeDisplay",function(t){var e=Math.floor(t/3600),n=Math.floor(t%3600/60),r=t%60;return"".concat(e.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"))}),y(r,"formatTimeToDecimal",function(t){return(t/3600).toFixed(r.state.config.decimalPlaces)}),y(r,"loadDemoData",function(){r.setState({rows:[{id:"demo_1",date:"2024-03-15",project:"Website Development",tasks:"Frontend Development",notes:"Created responsive navigation menu",hours:"3.5",rate:"15.00",amount:"52.50"},{id:"demo_2",date:"2024-03-15",project:"Website Development",tasks:"Testing",notes:"Cross-browser compatibility testing",hours:"2.0",rate:"15.00",amount:"30.00"},{id:"demo_3",date:"2024-03-14",project:"Mobile App",tasks:"Documentation",notes:"Updated API documentation",hours:"1.5",rate:"15.00",amount:"22.50"}]},function(){r.calculateTotals()})}),y(r,"saveTimesheetEntry",function(){var t=l(i().m(function t(e){var n,o,a,s,c=arguments;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:null,r.state.config.saveData&&r.state.config.isLoggedIn){t.n=1;break}return t.a(2);case 1:return r.setState({loading:!0}),(o=new FormData).append("action","timesheet_save_entry"),o.append("nonce",r.state.config.nonce),e.id&&"temp"!==e.id&&o.append("entry_id",e.id),o.append("entry_date",e.date),o.append("project",e.project),o.append("tasks",e.tasks),o.append("notes",e.notes),o.append("hours",e.hours),o.append("billable_rate",e.rate),t.p=2,t.n=3,fetch(r.state.config.ajaxUrl,{method:"POST",body:o});case 3:return a=t.v,t.n=4,a.json();case 4:(s=t.v).success?null!==n&&s.data.entry_id&&r.setState(function(t){var e=m(t.rows);return e[n]=d(d({},e[n]),{},{id:s.data.entry_id}),{rows:e}}):r.setState({error:"Failed to save entry: "+s.data.message}),t.n=6;break;case 5:t.p=5,t.v,r.setState({error:"Network error while saving entry"});case 6:return t.p=6,r.setState({loading:!1}),t.f(6);case 7:return t.a(2)}},t,null,[[2,5,6,7]])}));return function(e){return t.apply(this,arguments)}}()),y(r,"loadTimesheetData",l(i().m(function t(){var e,n,o,a;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:if(r.state.config.saveData&&r.state.config.isLoggedIn){t.n=1;break}return t.a(2);case 1:return r.setState({loading:!0}),(e=new FormData).append("action","timesheet_load_entries"),e.append("nonce",r.state.config.nonce),t.p=2,t.n=3,fetch(r.state.config.ajaxUrl,{method:"POST",body:e});case 3:return n=t.v,t.n=4,n.json();case 4:(o=t.v).success?(a=o.data.entries.map(function(t){return{id:t.id,date:t.entry_date,project:t.project,tasks:t.tasks,notes:t.notes,hours:t.hours,rate:t.billable_rate,amount:t.billable_amount}}),r.setState({rows:a},function(){r.calculateTotals(),0===a.length&&r.addRow()})):(r.setState({error:"Failed to load entries: "+o.data.message}),r.addRow()),t.n=6;break;case 5:t.p=5,t.v,r.setState({error:"Network error while loading data"}),r.addRow();case 6:return t.p=6,r.setState({loading:!1}),t.f(6);case 7:return t.a(2)}},t,null,[[2,5,6,7]])}))),y(r,"deleteTimesheetEntry",function(){var t=l(i().m(function t(e,n){var o,a,s;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:if(e&&"temp"!==e){t.n=1;break}return r.deleteRow(n),t.a(2);case 1:return r.setState({loading:!0}),(o=new FormData).append("action","timesheet_delete_entry"),o.append("nonce",r.state.config.nonce),o.append("entry_id",e),t.p=2,t.n=3,fetch(r.state.config.ajaxUrl,{method:"POST",body:o});case 3:return a=t.v,t.n=4,a.json();case 4:(s=t.v).success?r.deleteRow(n):r.setState({error:"Failed to delete entry: "+s.data.message}),t.n=6;break;case 5:t.p=5,t.v,r.setState({error:"Network error while deleting entry"});case 6:return t.p=6,r.setState({loading:!1}),t.f(6);case 7:return t.a(2)}},t,null,[[2,5,6,7]])}));return function(e,n){return t.apply(this,arguments)}}()),y(r,"saveAllPendingChanges",function(){r.state.rows.forEach(function(t,e){t.modified&&r.saveTimesheetEntry(t,e)})}),y(r,"exportToCSV",function(){var t=r.state,e=t.rows,n=t.config,o=[["Date","Project","Tasks","Notes","Hours","Billable Rate","Billable Amount"].join(",")].concat(m(e.map(function(t){return[t.date,'"'.concat(t.project,'"'),'"'.concat(t.tasks,'"'),'"'.concat(t.notes,'"'),t.hours,"$15.00","$".concat(t.amount)].join(",")}))).join("\n"),a=r.state.totalHours.toFixed(n.decimalPlaces),i=r.state.totalAmount.toFixed(n.decimalPlaces),s='\n"TOTALS","","","",'.concat(a,',"","$').concat(i,'"'),c=new Blob([o+s],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(c);l.setAttribute("href",u),l.setAttribute("download","timesheet_".concat((new Date).toISOString().split("T")[0],".csv")),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)}),y(r,"generateInvoice",function(){var t=r.state,e=t.rows,n=t.config,o=(new Date).toLocaleDateString(),a="INV-".concat(Date.now()),i="\n\t\t\t<!DOCTYPE html>\n\t\t\t<html>\n\t\t\t<head>\n\t\t\t\t<title>Invoice - ".concat(a,"</title>\n\t\t\t\t<style>\n\t\t\t\t\tbody { font-family: 'Poppins', Arial, sans-serif; margin: 40px; }\n\t\t\t\t\t.invoice-header { text-align: center; margin-bottom: 30px; }\n\t\t\t\t\t.invoice-details { margin-bottom: 20px; }\n\t\t\t\t\t.invoice-table { width: 100%; border-collapse: collapse; margin: 20px 0; }\n\t\t\t\t\t.invoice-table th, .invoice-table td { border: 1px solid #ddd; padding: 8px; text-align: left; }\n\t\t\t\t\t.invoice-table th { background-color: #f8f9fa; }\n\t\t\t\t\t.totals { text-align: right; margin-top: 20px; font-weight: bold; }\n\t\t\t\t\t.amount { text-align: right; }\n\t\t\t\t</style>\n\t\t\t</head>\n\t\t\t<body>\n\t\t\t\t<div class=\"invoice-header\">\n\t\t\t\t\t<h1>INVOICE</h1>\n\t\t\t\t\t<p><strong>Invoice #:</strong> ").concat(a,"</p>\n\t\t\t\t\t<p><strong>Date:</strong> ").concat(o,'</p>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class="invoice-details">\n\t\t\t\t\t<p><strong>Services Provided:</strong> Timesheet Services</p>\n\t\t\t\t\t<p><strong>Rate:</strong> $15.00 per hour</p>\n\t\t\t\t</div>\n\n\t\t\t\t<table class="invoice-table">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>Date</th>\n\t\t\t\t\t\t\t<th>Project</th>\n\t\t\t\t\t\t\t<th>Task Description</th>\n\t\t\t\t\t\t\t<th>Hours</th>\n\t\t\t\t\t\t\t<th>Rate</th>\n\t\t\t\t\t\t\t<th>Amount</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t').concat(e.map(function(t){return"\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>".concat(t.date,"</td>\n\t\t\t\t\t\t\t\t<td>").concat(t.project,"</td>\n\t\t\t\t\t\t\t\t<td>").concat(t.tasks).concat(t.notes?" - "+t.notes:"","</td>\n\t\t\t\t\t\t\t\t<td>").concat(t.hours,'</td>\n\t\t\t\t\t\t\t\t<td>$15.00</td>\n\t\t\t\t\t\t\t\t<td class="amount">$').concat(t.amount,"</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t")}).join(""),'\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\n\t\t\t\t<div class="totals">\n\t\t\t\t\t<p><strong>Total Hours:</strong> ').concat(r.state.totalHours.toFixed(n.decimalPlaces),"</p>\n\t\t\t\t\t<p><strong>Total Amount: $").concat(r.state.totalAmount.toFixed(n.decimalPlaces),"</strong></p>\n\t\t\t\t</div>\n\t\t\t</body>\n\t\t\t</html>\n\t\t"),s=window.open("","_blank");s.document.write(i),s.document.close(),s.focus(),setTimeout(function(){s.print()},250)}),y(r,"renderTaskOptions",function(){return r.state.config.presetTasks.map(function(t){return(0,o.jsx)("option",{value:t,children:t},t)})});var s=null!==(n=r.props.attrs)&&void 0!==n&&n.config?JSON.parse(r.props.attrs.config):{};return r.state={rows:[],timerRunning:!1,timerSeconds:0,currentTimerRow:null,totalHours:0,totalAmount:0,loading:!1,error:null,config:{maxRows:s.maxRows||10,defaultHourlyRate:15,defaultProject:s.defaultProject||"",presetTasks:s.presetTasks||[],currencySymbol:"$",decimalPlaces:s.decimalPlaces||2,timeFormat:s.timeFormat||"decimal",saveData:!1!==s.saveData,autoSaveInterval:s.autoSaveInterval||1e4,timerAutoStart:s.timerAutoStart||!1,timerSound:s.timerSound||!1,showTimer:!1!==s.showTimer,userId:s.userId||0,isLoggedIn:s.isLoggedIn||!1,ajaxUrl:s.ajaxUrl||"",nonce:s.nonce||""}},r.timerInterval=null,r.autoSaveInterval=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(e,t),n=e,r=[{key:"componentDidMount",value:function(){var t=this;this.state.config.isLoggedIn?this.loadTimesheetData():this.loadDemoData(),this.state.config.saveData&&this.state.config.autoSaveInterval>0&&(this.autoSaveInterval=setInterval(function(){t.saveAllPendingChanges()},Math.max(this.state.config.autoSaveInterval,5e3)))}},{key:"componentWillUnmount",value:function(){this.timerInterval&&clearInterval(this.timerInterval),this.autoSaveInterval&&clearInterval(this.autoSaveInterval)}},{key:"render",value:function(){var t,e=this,n=this.state,r=n.config,a=n.loading,i=n.error,s=r.viewOnly||!r.isLoggedIn;return i&&r.isLoggedIn?(0,o.jsx)("div",{className:"dicm-timesheet-tracker error-state",children:(0,o.jsx)("div",{className:"error-message",children:(0,o.jsx)("p",{children:i})})}):(0,o.jsxs)("div",{className:"dicm-timesheet-tracker",children:[a&&(0,o.jsx)("div",{className:"loading-overlay",children:(0,o.jsx)("div",{className:"loading-spinner",children:"Saving..."})}),(null===(t=this.props.attrs)||void 0===t?void 0:t.table_title)&&(0,o.jsx)("div",{className:"timesheet-title",children:(0,o.jsx)("h3",{children:this.props.attrs.table_title})}),r.showTimer&&(0,o.jsx)("div",{className:"timer-section",children:(0,o.jsxs)("div",{className:"timer-display",children:[(0,o.jsx)("span",{className:"timer-time",children:this.formatTimeDisplay(this.state.timerSeconds)}),(0,o.jsxs)("div",{className:"timer-controls",children:[this.state.timerRunning?(0,o.jsx)("button",{className:"timer-btn stop-btn",onClick:this.stopTimer,children:(0,o.jsx)("span",{className:"btn-text",children:"Stop"})}):(0,o.jsx)("button",{className:"timer-btn start-btn",onClick:function(){return e.startTimer()},children:(0,o.jsx)("span",{className:"btn-text",children:"Start"})}),(0,o.jsx)("button",{className:"timer-btn reset-btn",onClick:this.resetTimer,children:(0,o.jsx)("span",{className:"btn-text",children:"Reset"})})]})]})}),(0,o.jsxs)("div",{className:"timesheet-container",children:[(0,o.jsxs)("div",{className:"timesheet-controls",children:[!s&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{className:"add-row-btn",onClick:this.addRow,disabled:this.state.rows.length>=r.maxRows,children:"+ Add Row"}),(0,o.jsx)("button",{className:"clear-all-btn",onClick:this.clearAllRows,children:"Clear All"})]}),(0,o.jsxs)("div",{className:"export-controls",children:[(0,o.jsx)("button",{className:"export-btn",onClick:this.exportToCSV,title:"Export to CSV",children:"📊 Export CSV"}),r.isLoggedIn&&(0,o.jsx)("button",{className:"invoice-btn",onClick:this.generateInvoice,title:"Generate Invoice",children:"🧾 Generate Invoice"})]}),(0,o.jsxs)("div",{className:"total-summary",children:[(0,o.jsxs)("span",{className:"total-hours",children:["Total Hours: ",(0,o.jsx)("strong",{children:this.state.totalHours.toFixed(r.decimalPlaces)})]}),(0,o.jsxs)("span",{className:"total-amount",children:["Total Amount: ",(0,o.jsxs)("strong",{children:["$",this.state.totalAmount.toFixed(r.decimalPlaces)]})]})]})]}),(0,o.jsx)("div",{className:"timesheet-table-wrapper",children:(0,o.jsxs)("table",{className:"timesheet-table",children:[(0,o.jsx)("thead",{className:"timesheet-header",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Date"}),(0,o.jsx)("th",{children:"Project"}),(0,o.jsx)("th",{children:"Tasks"}),(0,o.jsx)("th",{children:"Notes"}),(0,o.jsx)("th",{children:"Hours"}),(0,o.jsx)("th",{children:"Billable Rate"}),(0,o.jsx)("th",{children:"Billable Amount"}),!s&&(0,o.jsx)("th",{children:"Actions"})]})}),(0,o.jsx)("tbody",{className:"timesheet-body",children:this.state.rows.map(function(t,n){return(0,o.jsxs)("tr",{className:"timesheet-row",children:[(0,o.jsx)("td",{children:s?(0,o.jsx)("div",{className:"readonly-field",children:t.date}):(0,o.jsx)("input",{type:"date",value:t.date,onChange:function(t){return e.updateRowField(n,"date",t.target.value)}})}),(0,o.jsx)("td",{children:s?(0,o.jsx)("div",{className:"readonly-field",children:t.project}):(0,o.jsx)("input",{type:"text",value:t.project,placeholder:"Project name",onChange:function(t){return e.updateRowField(n,"project",t.target.value)}})}),(0,o.jsx)("td",{children:s?(0,o.jsx)("div",{className:"readonly-field",children:t.tasks}):r.presetTasks.length>0?(0,o.jsxs)("select",{value:t.tasks,onChange:function(t){return e.updateRowField(n,"tasks",t.target.value)},children:[(0,o.jsx)("option",{value:"",children:"Select task..."}),e.renderTaskOptions()]}):(0,o.jsx)("input",{type:"text",value:t.tasks,placeholder:"Task description",onChange:function(t){return e.updateRowField(n,"tasks",t.target.value)}})}),(0,o.jsx)("td",{children:s?(0,o.jsx)("div",{className:"readonly-field",children:t.notes}):(0,o.jsx)("textarea",{value:t.notes,placeholder:"Notes",rows:"1",onChange:function(t){return e.updateRowField(n,"notes",t.target.value)}})}),(0,o.jsx)("td",{children:s?(0,o.jsx)("div",{className:"readonly-field hours-display",children:t.hours}):(0,o.jsx)("input",{type:"number",step:"0.01",min:"0",value:t.hours,placeholder:"0.00",onChange:function(t){return e.updateRowField(n,"hours",t.target.value)}})}),(0,o.jsx)("td",{children:(0,o.jsx)("div",{className:"fixed-rate-display",children:"$15.00"})}),(0,o.jsxs)("td",{className:"amount-cell",children:["$",t.amount]}),!s&&(0,o.jsxs)("td",{className:"actions-cell",children:[r.showTimer&&(0,o.jsx)("button",{className:"timer-row-btn ".concat(e.state.currentTimerRow===n?"active":""),onClick:function(){return e.state.currentTimerRow===n?e.stopTimer():e.startTimer(n)},disabled:e.state.timerRunning&&e.state.currentTimerRow!==n,title:e.state.currentTimerRow===n?"Stop Timer":"Start Timer",children:e.state.currentTimerRow===n?"⏹":"▶"}),(0,o.jsx)("button",{className:"delete-row-btn",onClick:function(){return e.deleteTimesheetEntry(t.id,n)},title:"Delete Row",disabled:a,children:"🗑"})]})]},t.id)})})]})})]})]})}}],r&&f(n.prototype,r),a&&f(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a}(r.Component);e.default=j},848:function(t,e,n){t.exports=n(20)}}]);